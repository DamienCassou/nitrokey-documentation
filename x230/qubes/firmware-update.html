<!DOCTYPE html>
<html lang="English">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Firmware Update | Nitrokey Documentation</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/favicon.png">
    <meta name="description" content="User documentation of all Nitrokey products">
    <link rel="preload" href="/assets/css/17.styles.11dcf1c8.css" as="style"><link rel="preload" href="/assets/js/app.fceb09b8.js" as="script"><link rel="preload" href="/assets/js/38.2f1dfbd9.js" as="script"><link rel="preload" href="/assets/js/24.bedcd07b.js" as="script"><link rel="prefetch" href="/assets/js/0.f0c8decd.js"><link rel="prefetch" href="/assets/js/1.78220114.js"><link rel="prefetch" href="/assets/js/10.120a018d.js"><link rel="prefetch" href="/assets/js/11.e1609e9f.js"><link rel="prefetch" href="/assets/js/12.25823dee.js"><link rel="prefetch" href="/assets/js/13.21fcdab6.js"><link rel="prefetch" href="/assets/js/14.93b82ddb.js"><link rel="prefetch" href="/assets/js/15.18406667.js"><link rel="prefetch" href="/assets/js/16.3a4139b9.js"><link rel="prefetch" href="/assets/js/18.c2e3c83d.js"><link rel="prefetch" href="/assets/js/19.544aa3a9.js"><link rel="prefetch" href="/assets/js/2.5c83f4b6.js"><link rel="prefetch" href="/assets/js/20.2f42bcb3.js"><link rel="prefetch" href="/assets/js/21.88ac402b.js"><link rel="prefetch" href="/assets/js/22.7c203444.js"><link rel="prefetch" href="/assets/js/23.366d6e0f.js"><link rel="prefetch" href="/assets/js/25.762b2e0b.js"><link rel="prefetch" href="/assets/js/26.3ad3de7a.js"><link rel="prefetch" href="/assets/js/27.8962b34a.js"><link rel="prefetch" href="/assets/js/28.20e8023e.js"><link rel="prefetch" href="/assets/js/29.3bb49b51.js"><link rel="prefetch" href="/assets/js/3.6d8da7a6.js"><link rel="prefetch" href="/assets/js/30.c77476e5.js"><link rel="prefetch" href="/assets/js/31.822a307e.js"><link rel="prefetch" href="/assets/js/32.c5a6011d.js"><link rel="prefetch" href="/assets/js/33.34023807.js"><link rel="prefetch" href="/assets/js/34.6a1f7b40.js"><link rel="prefetch" href="/assets/js/35.bc9eb4ba.js"><link rel="prefetch" href="/assets/js/36.ceffca29.js"><link rel="prefetch" href="/assets/js/39.5a8d0743.js"><link rel="prefetch" href="/assets/js/4.f5d5fb45.js"><link rel="prefetch" href="/assets/js/40.e435b580.js"><link rel="prefetch" href="/assets/js/41.c0908b07.js"><link rel="prefetch" href="/assets/js/42.b9610a04.js"><link rel="prefetch" href="/assets/js/43.aac2ceeb.js"><link rel="prefetch" href="/assets/js/44.f837f138.js"><link rel="prefetch" href="/assets/js/45.998830bd.js"><link rel="prefetch" href="/assets/js/46.ac793a9b.js"><link rel="prefetch" href="/assets/js/47.8eb6f96e.js"><link rel="prefetch" href="/assets/js/48.cedfa623.js"><link rel="prefetch" href="/assets/js/49.89b1b46f.js"><link rel="prefetch" href="/assets/js/5.203768b7.js"><link rel="prefetch" href="/assets/js/50.cc4523c5.js"><link rel="prefetch" href="/assets/js/51.6068a12e.js"><link rel="prefetch" href="/assets/js/52.fad38e5b.js"><link rel="prefetch" href="/assets/js/53.8e128b62.js"><link rel="prefetch" href="/assets/js/54.6d5f558a.js"><link rel="prefetch" href="/assets/js/55.dfafdfc1.js"><link rel="prefetch" href="/assets/js/56.e1550bff.js"><link rel="prefetch" href="/assets/js/57.592d2f00.js"><link rel="prefetch" href="/assets/js/58.fc46f18b.js"><link rel="prefetch" href="/assets/js/59.b24e6643.js"><link rel="prefetch" href="/assets/js/6.f9b50a80.js"><link rel="prefetch" href="/assets/js/60.40e65c4f.js"><link rel="prefetch" href="/assets/js/61.f745c7cf.js"><link rel="prefetch" href="/assets/js/62.cf67f7eb.js"><link rel="prefetch" href="/assets/js/63.1b6f1928.js"><link rel="prefetch" href="/assets/js/64.079fc9a4.js"><link rel="prefetch" href="/assets/js/65.1e26d021.js"><link rel="prefetch" href="/assets/js/66.211e9457.js"><link rel="prefetch" href="/assets/js/67.c5229aaa.js"><link rel="prefetch" href="/assets/js/68.8eef387a.js"><link rel="prefetch" href="/assets/js/69.af60a931.js"><link rel="prefetch" href="/assets/js/7.013adfa0.js"><link rel="prefetch" href="/assets/js/70.0cc5e575.js"><link rel="prefetch" href="/assets/js/71.e1538f59.js"><link rel="prefetch" href="/assets/js/72.d38a078a.js"><link rel="prefetch" href="/assets/js/73.2058ea75.js"><link rel="prefetch" href="/assets/js/74.5882d54f.js"><link rel="prefetch" href="/assets/js/75.91128304.js"><link rel="prefetch" href="/assets/js/76.2df82b59.js"><link rel="prefetch" href="/assets/js/77.5c43db51.js"><link rel="prefetch" href="/assets/js/78.c5ee67a6.js"><link rel="prefetch" href="/assets/js/79.b1f7ad05.js"><link rel="prefetch" href="/assets/js/8.f7ace3b0.js"><link rel="prefetch" href="/assets/js/80.9f035325.js"><link rel="prefetch" href="/assets/js/81.4cc12ab2.js"><link rel="prefetch" href="/assets/js/82.cb6f9453.js"><link rel="prefetch" href="/assets/js/83.e4dbcf21.js"><link rel="prefetch" href="/assets/js/84.886a3d39.js"><link rel="prefetch" href="/assets/js/85.d5c979cb.js"><link rel="prefetch" href="/assets/js/86.38315c59.js"><link rel="prefetch" href="/assets/js/9.f644abba.js">
    <link rel="stylesheet" href="/assets/css/17.styles.11dcf1c8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/nitrokey_logo_nur_schild_rot.svg" alt="Nitrokey Documentation" class="logo"> <span class="site-name can-hide">Nitrokey Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Product Menu" class="dropdown-title"><span class="title">Products</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fido2/" class="nav-link">
  Nitrokey FIDO2
</a></li><li class="dropdown-item"><!----> <a href="/u2f/" class="nav-link">
  Nitrokey FIDO U2F
</a></li><li class="dropdown-item"><!----> <a href="/hsm/" class="nav-link">
  Nitrokey HSM
</a></li><li class="dropdown-item"><!----> <a href="/pro/" class="nav-link">
  Nitrokey Pro
</a></li><li class="dropdown-item"><!----> <a href="/start/" class="nav-link">
  Nitrokey Start
</a></li><li class="dropdown-item"><!----> <a href="/storage/" class="nav-link">
  Nitrokey Storage
</a></li><li class="dropdown-item"><!----> <a href="/x230/" class="nav-link router-link-active">
  NitroPad X230
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/x230/qubes/firmware-update.html" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/de/" class="nav-link">
  Deutsch
</a></li></ul></div></div> <a href="https://github.com/Nitrokey/nitrokey-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Product Menu" class="dropdown-title"><span class="title">Products</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fido2/" class="nav-link">
  Nitrokey FIDO2
</a></li><li class="dropdown-item"><!----> <a href="/u2f/" class="nav-link">
  Nitrokey FIDO U2F
</a></li><li class="dropdown-item"><!----> <a href="/hsm/" class="nav-link">
  Nitrokey HSM
</a></li><li class="dropdown-item"><!----> <a href="/pro/" class="nav-link">
  Nitrokey Pro
</a></li><li class="dropdown-item"><!----> <a href="/start/" class="nav-link">
  Nitrokey Start
</a></li><li class="dropdown-item"><!----> <a href="/storage/" class="nav-link">
  Nitrokey Storage
</a></li><li class="dropdown-item"><!----> <a href="/x230/" class="nav-link router-link-active">
  NitroPad X230
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/x230/qubes/firmware-update.html" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/de/" class="nav-link">
  Deutsch
</a></li></ul></div></div> <a href="https://github.com/Nitrokey/nitrokey-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/x230/qubes/" class="sidebar-link">NitroPad X230, Qubes OS</a></li><li><a href="/x230/qubes/verify-sealed-hardware.html" class="sidebar-link">Verify Sealed Hardware</a></li><li><a href="/x230/qubes/operating-system-reinstallation.html" class="sidebar-link">Operating System Reinstallation</a></li><li><a href="/x230/qubes/factory-reset.html" class="sidebar-link">Factory Reset</a></li><li><a href="/x230/qubes/firmware-update.html" class="active sidebar-link">Firmware Update</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/x230/qubes/default-boot.html" class="sidebar-link">Default Boot</a></li><li><a href="/x230/qubes/system-update.html" class="sidebar-link">System update</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="firmware-update"><a href="#firmware-update" class="header-anchor">#</a> Firmware Update</h1> <p>This guide describes how to update the Heads firmware of the NitroPad.</p> <p>These instructions are relevant in the following cases:</p> <ul><li>You want to update the Heads firmware.</li> <li>You have already performed an OEM factory reset, but the TPM  counter has not been reset.</li></ul> <h3 id="preparation"><a href="#preparation" class="header-anchor">#</a> Preparation</h3> <ol><li>Connect your NitroPad to a power plug and load its battery to over 70%</li> <li>Download the <a href="https://github.com/Nitrokey/heads/releases" target="_blank" rel="noopener noreferrer">latest firmware<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and store it on a USB drive. The files are in the &quot;Assets&quot; dropdown box at the end of the release information.</li> <li>For hash sum verification, store <code>SHA256SUM.txt</code> file at the USB drive.</li></ol> <p>E.g. for <code>v1.1-rc3</code> version:</p> <ol><li>Firmware should be downloaded from  <a href="https://github.com/Nitrokey/heads/releases/tag/v1.1-rc3" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Firmware and hashsum files should be located on the USB drive in the main directory:</li></ol> <div class="language- extra-class"><pre class="language-text"><code>/nitropad_x230_v1.1-rc3.rom
/SHA256SUM.txt
</code></pre></div><h4 id="firmware-file-verification"><a href="#firmware-file-verification" class="header-anchor">#</a> Firmware file verification</h4> <p>It is mandatory to run a firmware file consistency check before writing it to the device.
After copying the firmware file to the USB drive make sure the latter is properly unmounted/ejected to avoid write issues. The consistency check should be run on NitroPad, so the data verified will be exact same as the later read by the update application. This action will not be required in the further firmware updates.</p> <ol><li>Start Nitropad and open recovery console from <code>Options -&gt; Exit to recovery shell</code></li> <li>Execute the following to verify the firmware:</li></ol> <div class="language- extra-class"><pre class="language-text"><code>$ mount-usb              # select USB device
$ cd /media
$ sha256sum -c SHA256SUM.txt
</code></pre></div><p>For <code>v1.1-rc3</code> version this should result in:</p> <div class="language- extra-class"><pre class="language-text"><code>$ sha256sum -c SHA256SUM.txt
nitropad_x230_v1.1-rc3.rom: OK
</code></pre></div><p>This confirms the content of the file is as expected. Please reboot the Nitropad to continue (either by switching off and powering on again, or hitting CTRL+ALT+DELETE).</p> <h3 id="procedure"><a href="#procedure" class="header-anchor">#</a> Procedure</h3> <p>This is the actual update procedure. Usually the first two screens will not be shown - in that case please start from step 3.</p> <ol><li>(Optional screen) Select &quot;Ignore error and continue to default boot menu&quot;.</li></ol> <p><img src="/assets/img/1.c306d4c7.jpg" alt="img1"></p> <ol start="2"><li>(Optional screen) Select &quot;Ignore error and continue to default boot menu&quot;.</li></ol> <p><img src="/assets/img/2.ca285d2e.jpg" alt="img2"></p> <ol start="3"><li>Go to &quot;Options&quot;.</li></ol> <p><img src="/assets/img/3.9be8cdbd.jpg" alt="img3"></p> <ol start="4"><li>Select &quot;Flash/Update the BIOS&quot;.</li></ol> <p><img src="/assets/img/4.9913c373.jpg" alt="img4"></p> <ol start="5"><li>Please confirm the first option.</li></ol> <p><img src="/assets/img/5.0b0f1537.jpg" alt="img5"></p> <ol start="6"><li>Confirm the process with Enter.</li></ol> <p><img src="/assets/img/6.ea020d28.jpg" alt="img6"></p> <ol start="7"><li>Select the desired .rom file.</li></ol> <p><img src="/assets/img/7.c30ca19d.jpg" alt="img7"></p> <ol start="8"><li>Confirm the process with Enter.</li></ol> <p><img src="/assets/img/8.0b9ae39c.jpg" alt="img8"></p> <ol start="9"><li>Confirm the restart with Enter.</li></ol> <p><img src="/assets/img/9.e306984c.jpg" alt="img9"></p> <p>Now you have updated your firmware.</p> <h3 id="further-steps"><a href="#further-steps" class="header-anchor">#</a> Further steps</h3> <p>In case <code>ERROR: TOTP Generation Failed!</code> screen will show up, please follow the instructions for Factory Reset (on the left side menu), starting from step 11.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Nitrokey/nitrokey-documentation/edit/master/x230/qubes/firmware-update.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/31/2020, 12:27:01 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/x230/qubes/factory-reset.html" class="prev">
        Factory Reset
      </a></span> <span class="next"><a href="/x230/qubes/default-boot.html">
        Default Boot
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fceb09b8.js" defer></script><script src="/assets/js/38.2f1dfbd9.js" defer></script><script src="/assets/js/24.bedcd07b.js" defer></script>
  </body>
</html>
