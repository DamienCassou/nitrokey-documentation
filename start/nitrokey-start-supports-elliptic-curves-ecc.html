<!DOCTYPE html>
<html lang="English">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nitrokey Start Supports Elliptic Curves (ECC) | Nitrokey Documentation</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/favicon.png">
    <meta name="description" content="User documentation of all Nitrokey products">
    <link rel="preload" href="/assets/css/17.styles.11dcf1c8.css" as="style"><link rel="preload" href="/assets/js/app.1a9bd0da.js" as="script"><link rel="preload" href="/assets/js/38.2f1dfbd9.js" as="script"><link rel="preload" href="/assets/js/21.88ac402b.js" as="script"><link rel="prefetch" href="/assets/js/0.f0c8decd.js"><link rel="prefetch" href="/assets/js/1.78220114.js"><link rel="prefetch" href="/assets/js/10.120a018d.js"><link rel="prefetch" href="/assets/js/11.e1609e9f.js"><link rel="prefetch" href="/assets/js/12.5d439932.js"><link rel="prefetch" href="/assets/js/13.21fcdab6.js"><link rel="prefetch" href="/assets/js/14.93b82ddb.js"><link rel="prefetch" href="/assets/js/15.18406667.js"><link rel="prefetch" href="/assets/js/16.3a4139b9.js"><link rel="prefetch" href="/assets/js/18.c2e3c83d.js"><link rel="prefetch" href="/assets/js/19.544aa3a9.js"><link rel="prefetch" href="/assets/js/2.5c83f4b6.js"><link rel="prefetch" href="/assets/js/20.2f42bcb3.js"><link rel="prefetch" href="/assets/js/22.4158ede9.js"><link rel="prefetch" href="/assets/js/23.366d6e0f.js"><link rel="prefetch" href="/assets/js/24.75dc5750.js"><link rel="prefetch" href="/assets/js/25.762b2e0b.js"><link rel="prefetch" href="/assets/js/26.3ad3de7a.js"><link rel="prefetch" href="/assets/js/27.8962b34a.js"><link rel="prefetch" href="/assets/js/28.20e8023e.js"><link rel="prefetch" href="/assets/js/29.3bb49b51.js"><link rel="prefetch" href="/assets/js/3.6d8da7a6.js"><link rel="prefetch" href="/assets/js/30.c77476e5.js"><link rel="prefetch" href="/assets/js/31.822a307e.js"><link rel="prefetch" href="/assets/js/32.c5a6011d.js"><link rel="prefetch" href="/assets/js/33.34023807.js"><link rel="prefetch" href="/assets/js/34.e64eab12.js"><link rel="prefetch" href="/assets/js/35.bc9eb4ba.js"><link rel="prefetch" href="/assets/js/36.ceffca29.js"><link rel="prefetch" href="/assets/js/39.5a8d0743.js"><link rel="prefetch" href="/assets/js/4.f5d5fb45.js"><link rel="prefetch" href="/assets/js/40.e435b580.js"><link rel="prefetch" href="/assets/js/41.c0908b07.js"><link rel="prefetch" href="/assets/js/42.b9610a04.js"><link rel="prefetch" href="/assets/js/43.aac2ceeb.js"><link rel="prefetch" href="/assets/js/44.f837f138.js"><link rel="prefetch" href="/assets/js/45.998830bd.js"><link rel="prefetch" href="/assets/js/46.ac793a9b.js"><link rel="prefetch" href="/assets/js/47.8eb6f96e.js"><link rel="prefetch" href="/assets/js/48.cedfa623.js"><link rel="prefetch" href="/assets/js/49.89b1b46f.js"><link rel="prefetch" href="/assets/js/5.203768b7.js"><link rel="prefetch" href="/assets/js/50.dd89e8d3.js"><link rel="prefetch" href="/assets/js/51.6068a12e.js"><link rel="prefetch" href="/assets/js/52.fad38e5b.js"><link rel="prefetch" href="/assets/js/53.8e128b62.js"><link rel="prefetch" href="/assets/js/54.6d5f558a.js"><link rel="prefetch" href="/assets/js/55.dfafdfc1.js"><link rel="prefetch" href="/assets/js/56.e1550bff.js"><link rel="prefetch" href="/assets/js/57.592d2f00.js"><link rel="prefetch" href="/assets/js/58.0ecc28d3.js"><link rel="prefetch" href="/assets/js/59.aab7aaca.js"><link rel="prefetch" href="/assets/js/6.ea32a1a0.js"><link rel="prefetch" href="/assets/js/60.40e65c4f.js"><link rel="prefetch" href="/assets/js/61.f745c7cf.js"><link rel="prefetch" href="/assets/js/62.cf67f7eb.js"><link rel="prefetch" href="/assets/js/63.1b6f1928.js"><link rel="prefetch" href="/assets/js/64.c3b4f044.js"><link rel="prefetch" href="/assets/js/65.1e26d021.js"><link rel="prefetch" href="/assets/js/66.211e9457.js"><link rel="prefetch" href="/assets/js/67.c5229aaa.js"><link rel="prefetch" href="/assets/js/68.8eef387a.js"><link rel="prefetch" href="/assets/js/69.a4422ea6.js"><link rel="prefetch" href="/assets/js/7.013adfa0.js"><link rel="prefetch" href="/assets/js/70.fcadebfa.js"><link rel="prefetch" href="/assets/js/71.e1538f59.js"><link rel="prefetch" href="/assets/js/72.d38a078a.js"><link rel="prefetch" href="/assets/js/73.2058ea75.js"><link rel="prefetch" href="/assets/js/74.5882d54f.js"><link rel="prefetch" href="/assets/js/75.91128304.js"><link rel="prefetch" href="/assets/js/76.2df82b59.js"><link rel="prefetch" href="/assets/js/77.5c43db51.js"><link rel="prefetch" href="/assets/js/78.2723fdca.js"><link rel="prefetch" href="/assets/js/79.b1f7ad05.js"><link rel="prefetch" href="/assets/js/8.f7ace3b0.js"><link rel="prefetch" href="/assets/js/80.9f035325.js"><link rel="prefetch" href="/assets/js/81.40d0d643.js"><link rel="prefetch" href="/assets/js/82.a70b6ef9.js"><link rel="prefetch" href="/assets/js/83.e4dbcf21.js"><link rel="prefetch" href="/assets/js/84.886a3d39.js"><link rel="prefetch" href="/assets/js/85.d5c979cb.js"><link rel="prefetch" href="/assets/js/86.38315c59.js"><link rel="prefetch" href="/assets/js/9.f644abba.js">
    <link rel="stylesheet" href="/assets/css/17.styles.11dcf1c8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/nitrokey_logo_nur_schild_rot.svg" alt="Nitrokey Documentation" class="logo"> <span class="site-name can-hide">Nitrokey Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Product Menu" class="dropdown-title"><span class="title">Products</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fido2/" class="nav-link">
  Nitrokey FIDO2
</a></li><li class="dropdown-item"><!----> <a href="/u2f/" class="nav-link">
  Nitrokey FIDO U2F
</a></li><li class="dropdown-item"><!----> <a href="/hsm/" class="nav-link">
  Nitrokey HSM
</a></li><li class="dropdown-item"><!----> <a href="/pro/" class="nav-link">
  Nitrokey Pro
</a></li><li class="dropdown-item"><!----> <a href="/start/" class="nav-link router-link-active">
  Nitrokey Start
</a></li><li class="dropdown-item"><!----> <a href="/storage/" class="nav-link">
  Nitrokey Storage
</a></li><li class="dropdown-item"><!----> <a href="/x230/" class="nav-link">
  NitroPad X230
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/start/nitrokey-start-supports-elliptic-curves-ecc.html" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/de/" class="nav-link">
  Deutsch
</a></li></ul></div></div> <a href="https://github.com/Nitrokey/nitrokey-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Product Menu" class="dropdown-title"><span class="title">Products</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fido2/" class="nav-link">
  Nitrokey FIDO2
</a></li><li class="dropdown-item"><!----> <a href="/u2f/" class="nav-link">
  Nitrokey FIDO U2F
</a></li><li class="dropdown-item"><!----> <a href="/hsm/" class="nav-link">
  Nitrokey HSM
</a></li><li class="dropdown-item"><!----> <a href="/pro/" class="nav-link">
  Nitrokey Pro
</a></li><li class="dropdown-item"><!----> <a href="/start/" class="nav-link router-link-active">
  Nitrokey Start
</a></li><li class="dropdown-item"><!----> <a href="/storage/" class="nav-link">
  Nitrokey Storage
</a></li><li class="dropdown-item"><!----> <a href="/x230/" class="nav-link">
  NitroPad X230
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/start/nitrokey-start-supports-elliptic-curves-ecc.html" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/de/" class="nav-link">
  Deutsch
</a></li></ul></div></div> <a href="https://github.com/Nitrokey/nitrokey-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/fido2/" class="sidebar-heading clickable open"><span>Nitrokey FIDO2</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/fido2/windows/" class="sidebar-link">Windows</a></li><li><a href="/fido2/mac/" class="sidebar-link">macOS</a></li><li><a href="/fido2/linux/" class="sidebar-link">Linux</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nitrokey FIDO U2F</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nitrokey HSM 2</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nitrokey Pro 2</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nitrokey Start</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nitrokey Storage 2</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NitroPad X230</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="nitrokey-start-supports-elliptic-curves-ecc"><a href="#nitrokey-start-supports-elliptic-curves-ecc" class="header-anchor">#</a> Nitrokey Start Supports Elliptic Curves (ECC)</h1> <h2 id="rsa-2048-becomes-increasingly-insecure"><a href="#rsa-2048-becomes-increasingly-insecure" class="header-anchor">#</a> RSA-2048 Becomes Increasingly Insecure</h2> <p>For security reasons, the German Federal Office for Information Security (Bundesamt für Sicherheit in der Informationstechnik or BSI) no longer recommends RSA keys with a length of 2048 <a href="https://www.bsi.bund.de/SharedDocs/Downloads/EN/BSI/Publications/TechGuidelines/TG02102/BSI-TR-02102-1.pdf;jsessionid=064DAA7AD3195C1C87B1C71B2760DB4E.1_cid360?__blob=publicationFile&amp;v=7" target="_blank" rel="noopener noreferrer">bit be used after 2022<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. This means that longer keys will need to come into use in the foreseeable future. Assuming a period of use of five years, safer keys should already be being generated. However, longer RSA keys with 3072 bit or 4096 bit are significantly slower. For this reason <a href="https://shop.nitrokey.com/shop/product/nitrokey-start-6" target="_blank" rel="noopener noreferrer">Nitrokey Start<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (resp. the underlying firmware <a href="https://www.fsij.org/category/gnuk.html" target="_blank" rel="noopener noreferrer">Gnuk<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) has been supporting encryption by means of <a href="https://en.wikipedia.org/wiki/Elliptic-curve_cryptography" target="_blank" rel="noopener noreferrer">elliptic-curve cryptography (ECC)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for some time. This method is considered to be just as secure for smaller key systems as longer RSA keys and is also considerably faster.</p> <h2 id="basics-of-elliptic-curve-cryptography"><a href="#basics-of-elliptic-curve-cryptography" class="header-anchor">#</a> Basics of Elliptic-Curve Cryptography</h2> <p>In contrast to RSA, there are many different forms (so-called curves) of elliptic-curve cryptography. Notably, the <a href="https://www.schneier.com/essays/archives/2007/11/did_nsa_put_a_secret.html" target="_blank" rel="noopener noreferrer">NSA was involved<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> in the development of the NIST curves. Even if there is no evidence of back doors in the curves, using a certain curve can pose a question of trust. Fortunately the Nitrokey Start supports multiple curves, namely NIST, SECG and Curve25519. In what follows we will use Curve25519 and Ed25519 that is based upon this, both of which have a good reputation and are considered to be secure. <a href="https://arstechnica.com/information-technology/2013/10/a-relatively-easy-to-understand-primer-on-elliptic-curve-cryptography/" target="_blank" rel="noopener noreferrer">This article<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> provides a good entry point for gaining a general understanding of elliptic-curve cryptography.</p> <h2 id="system-requirements"><a href="#system-requirements" class="header-anchor">#</a> System Requirements</h2> <p>In order to create keys based on elliptic curves on the Nitrokey Start, firmware 1.2 and GnuPG version 2.1.16 or higher must be installed.</p> <p>You can read Nitrokey Start’s firmware version via ‘gpg2 —card-status’:</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; gpg --card-status
Reader ...........: 20A0:4211:FSIJ-1.2.4-67083322:0
...
</code></pre></div><p>The digit after ‘FSIJ’ indicates the state of the software — in this case it is 1.2.4. Elliptic-curve cryptography can be used with the Nitrokey Start from version 1.2.x onwards. Should older firmware happen to be installed, you can update it with the help of <a href="https://github.com/Nitrokey/nitrokey-start-firmware/blob/gnuk1.2-regnual-fix/prebuilt/README.md#firmware-upgrade-instructions" target="_blank" rel="noopener noreferrer">these instructions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>You can learn about the installed version of GnuPG via ‘gpg2 --version’. At least version 2.1.16 is required. The newest GnuPG version for Windows can be found <a href="https://www.gpg4win.org/" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and the newest version for MacOS can be found <a href="https://gpgtools.org/" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. A suitable version of GnuPG is included in the GNU/Linux distributions Debian (from Stretch onwards), Arch Linux, Fedora (from Release 26 onwards) and openSUSE Tumbleweed. Unfortunately only GnuPG 2.1.15 is currently included in the latest release of Ubuntu (17.10) and use is therefore currently not readily possible. At the end of this articles are instructions how to manually update GnuPG on Ubuntu.</p> <p>Important: GnuPG 2.0 is still being used, but support for it will run out around the end of 2017. All communication partners must use GnuPG 2.1 or newer for email encryption by means of ECC, otherwise incompatibility issues might arise. Therefore you should only use ECC if you are sure you will be able to circumvent this problem.</p> <h2 id="key-generation-on-the-nitrokey-start"><a href="#key-generation-on-the-nitrokey-start" class="header-anchor">#</a> Key Generation on the Nitrokey Start</h2> <p>Once these requirements are fulfilled, you can get started. (Warning: existing keys will be overwritten in the process!) You now have two options. The first option is to create the key directly on the Nitrokey Start. The benefit here is that the key will never be outside the device and as such can never be read out. The second option is to import a previously locally generated key. The advantage in this case is that you can securely store a backup of the key, which can then be restored in case the Nitrokey is lost. Only the first option is described below. In order to create a key with backup, you can access <a href="https://www.gniibe.org/memo/software/gpg/keygen-25519.html" target="_blank" rel="noopener noreferrer">the following instructions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and use this <a href="https://wiki.fsfe.org/TechDocs/CardHowtos/CardWithSubkeysUsingBackups" target="_blank" rel="noopener noreferrer">general information<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to transfer the key to the Nitrokey.</p> <p>Within GnuPG there is already a ‘generate’ command, which can be used to easily create keys on the device. <strong>(Update 20.11.2017: With GnuPG 2.2.2 and higher, during &quot;generate&quot; command you can enter the keysize &quot;25519&quot; to select Curve25519. In this case you can skip the following lines.)</strong> However it is not as yet possible to select the type of key directly, so the key must first be prepared. We use the following commands for this:</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; gpg-connect-agent &quot;SCD SETATTR KEY-ATTR --force 1 22 ed25519&quot; /bye
&gt; gpg-connect-agent &quot;SCD SETATTR KEY-ATTR --force 2 18 cv25519&quot; /bye
&gt; gpg-connect-agent &quot;SCD SETATTR KEY-ATTR --force 3 22 ed25519&quot; /bye
</code></pre></div><p>Alternatively, other curves could be selected, as described in the next section.</p> <p>Now we enter ‘gpg2 --card-edit’ and see that ed25519 or cv25519 is under ‘key attributes’ instead of rsa2048.</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; gpg2 --card-edit
Reader ...........: 20A0:4211:FSIJ-1.2.4-67083322:0
Application ID ...: D276000124010200FFFE670833220000
Version ..........: 2.0
Manufacturer .....: unmanaged S/N range
Serial number ....: 67083322
Name of cardholder: [not set]
Language prefs ...: [not set]
Sex ..............: unspecified
URL of public key : [not set]
Login data .......: [not set]
Signature PIN ....: forced
Key attributes ...: ed25519 cv25519 ed25519
Max. PIN lengths .: 127 127 127
PIN retry counter : 3 3 3
Signature counter : 0
Signature key ....: [none]
Encryption key....: [none]
Authentication key: [none]
General key info..: [none]
</code></pre></div><p>Then we create the key.</p> <div class="language- extra-class"><pre class="language-text"><code>gpg/card&gt; admin
</code></pre></div><p>Admin commands are allowed</p> <div class="language- extra-class"><pre class="language-text"><code>gpg/card&gt; generate
Make off-card backup of encryption key? (Y/n) n
Please note that the factory settings of the PINs are
PIN = '123456' Admin PIN = '12345678'
You should change them using the command --change-pin
Please specify how long the key should be valid.
0 = key does not expire
&lt;n&gt; = key expires in n days
&lt;n&gt;w = key expires in n weeks
&lt;n&gt;m = key expires in n months
&lt;n&gt;y = key expires in n years
Key is valid for? (0)
Key does not expire at all
Is this correct? (y/N) y
GnuPG needs to construct a user ID to identify your key.
Real name: Jane Doe
Email address: jane.doe@example.org
Comment:
You selected this USER-ID:
&quot;Jane Doe &lt;jane.doe@example.org&gt;&quot;
Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O
gpg: key 7F8C68E1B084E169 marked as ultimately trusted
gpg: revocation certificate stored as '/home/jane/.gnupg/openpgp-revocs.d/F8C00BC1636A7D7604A31A877F8C68E1B084E169.rev'
public and secret key created and signed.
</code></pre></div><p>The Nitrokey Start now incorporates elliptic-curve cryptography instead of RSA keys and can be used as usual.</p> <h2 id="available-curves"><a href="#available-curves" class="header-anchor">#</a> Available Curves</h2> <p>In the above procedure we chose the curve ed25519 and cv25519 by Daniel Bernstein. Alternatively, NIST or SECG curves can be used. The configuration is carried out as follows:</p> <p>Option NIST curves:</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; gpg-connect-agent &quot;SCD SETATTR KEY-ATTR --force 1 19 nistp256&quot; /bye
&gt; gpg-connect-agent &quot;SCD SETATTR KEY-ATTR --force 2 18 nistp256&quot; /bye
&gt; gpg-connect-agent &quot;SCD SETATTR KEY-ATTR --force 3 19 nistp256&quot; /bye
</code></pre></div><p>Option SECG curves: <strong>Warning: This curve is not recommended for email encryption but for Bitcoin-related use cases only!</strong></p> <div class="language- extra-class"><pre class="language-text"><code>&gt; gpg-connect-agent &quot;SCD SETATTR KEY-ATTR --force 1 19 secp256k1&quot; /bye
&gt; gpg-connect-agent &quot;SCD SETATTR KEY-ATTR --force 2 18 secp256k1&quot; /bye
&gt; gpg-connect-agent &quot;SCD SETATTR KEY-ATTR --force 3 19 secp256k1&quot; /bye
</code></pre></div><p>Option Curve25519:</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; gpg-connect-agent &quot;SCD SETATTR KEY-ATTR --force 1 22 ed25519&quot; /bye
&gt; gpg-connect-agent &quot;SCD SETATTR KEY-ATTR --force 2 18 cv25519&quot; /bye
&gt; gpg-connect-agent &quot;SCD SETATTR KEY-ATTR --force 3 22 ed25519&quot; /bye
</code></pre></div><h2 id="update-of-gnupg-on-ubuntu"><a href="#update-of-gnupg-on-ubuntu" class="header-anchor">#</a> Update of GnuPG on Ubuntu</h2> <p>The following steps are needed only if you are running a Ubuntu version older than 18.04! You can install GnuPG 2.1.18 on such system with the commands below. This involves newer Debian packages, which is the easiest option. This approach has been tested successfully on Ubuntu 17.10. However, the occurence of problems during usage can‘t be excluded.</p> <div class="language- extra-class"><pre class="language-text"><code>$ mkdir gnupg_tmp
$ cd gnupg_tmp
$ wget http://ftp.debian.org/debian/pool/main/g/gnupg2/gnupg_2.1.18-8~deb9u1_amd64.deb
$ wget http://ftp.debian.org/debian/pool/main/g/gnupg2/dirmngr_2.1.18-8~deb9u1_amd64.deb
$ wget http://ftp.debian.org/debian/pool/main/g/gnupg2/gnupg-agent_2.1.18-8~deb9u1_amd64.deb
$ wget http://ftp.debian.org/debian/pool/main/g/gnupg2/scdaemon_2.1.18-8~deb9u1_amd64.deb
$ sudo dpkg -i *
$ cd ..
$ rm -rf gnupg_tmp
</code></pre></div><p>In case you want to undo the installation, you have to execute the following commands:</p> <div class="language- extra-class"><pre class="language-text"><code>$ sudo dpkg --remove --force-depends gnupg dirmngr gnupg-agent scdaemon
</code></pre></div><p>(removes manually installed packages)</p> <div class="language- extra-class"><pre class="language-text"><code>$ sudo apt-get install gnupg dirmngr gnupg-agent scdaemon
</code></pre></div><p>(installs the appropriate packages from regular package repositories)</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Nitrokey/nitrokey-documentation/edit/master/start/nitrokey-start-supports-elliptic-curves-ecc.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/31/2020, 2:10:36 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1a9bd0da.js" defer></script><script src="/assets/js/38.2f1dfbd9.js" defer></script><script src="/assets/js/21.88ac402b.js" defer></script>
  </body>
</html>
