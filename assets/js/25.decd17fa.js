(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{479:function(e,t,o){e.exports=o.p+"assets/img/1.b7e8fee2.jpg"},480:function(e,t,o){e.exports=o.p+"assets/img/2.f8ab1d7d.jpg"},481:function(e,t,o){e.exports=o.p+"assets/img/3.afe90028.jpg"},482:function(e,t,o){e.exports=o.p+"assets/img/4.bd4109f4.jpg"},483:function(e,t,o){e.exports=o.p+"assets/img/NitroPad-boot-options.e3ff469d.jpeg"},484:function(e,t,o){e.exports=o.p+"assets/img/NitroPad-confirm-boot-details.64358613.jpeg"},582:function(e,t,o){"use strict";o.r(t);var a=o(33),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"default-boot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#default-boot"}},[e._v("#")]),e._v(" Default Boot")]),e._v(" "),a("p",[e._v("If you have installed a new operating system, it may be that default boot is not yet assigned. If this is the case, please proceed as described below.")]),e._v(" "),a("ol",[a("li",[e._v('Select "Default boot".')])]),e._v(" "),a("p",[a("img",{attrs:{src:o(479),alt:"img1"}})]),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Heads informs you that it does not yet know any default. First you agree to the update of the checksums.")])]),e._v(" "),a("p",[a("img",{attrs:{src:o(480),alt:"img2"}})]),e._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Confirm the process with Enter.")])]),e._v(" "),a("p",[a("img",{attrs:{src:o(481),alt:"img3"}})]),e._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Now insert the Nitrokey if this is not already the case and confirm with Enter. Then you have to enter the User PIN of the Nitrokey.")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("    Please confirm that your GPG card is inserted [Y/n]:\n\n    Verifying presence of GPG card...\n\n    XXXXXXX: XXXXXXXXXX\n    Please unlock the card\n\n    Number: XXXX XXXXXX\n    Holder: \n    Counter: X\n    PIN: \n")])])]),a("p",[e._v("Now the NitroPad marks the files that changed by the update as verified.")]),e._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[e._v("Confirm the process with Enter.")])]),e._v(" "),a("p",[a("img",{attrs:{src:o(482),alt:"img4"}})]),e._v(" "),a("ol",{attrs:{start:"6"}},[a("li",[e._v("You will then see a list of all possible boot entries - choose the first one here by simply pressing Enter.\nBoot Options")])]),e._v(" "),a("p",[a("img",{attrs:{src:o(483),alt:"img5"}})]),e._v(" "),a("ol",{attrs:{start:"7"}},[a("li",[e._v('To save this value as default, select "Make Ubuntu the default" for Ubuntu or "Make Qubes the default" for Qubes OS.\nConfirm Boot Details')])]),e._v(" "),a("p",[a("img",{attrs:{src:o(484),alt:"img6"}})]),e._v(" "),a("ol",{attrs:{start:"8"}},[a("li",[e._v("Confirm the next three questions with Enter and enter the PIN of the Nitrokey if you are prompted to do so.")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("    Saving a default will modify the disk. Proceed? [Y/n]:\n\n    Do you wish to add a disk encryption to the TPM [Y/n]:\n\n    Please confirm that your GPG card is inserted [Y/n]:\n\n    Verifying presence of GPG card...\n\n    XXXXXXX: XXXXXXXXXX\n    Please unlock the card\n\n    Number: XXXX XXXXXX\n    Holder: \n    Counter: X\n    PIN:\n")])])]),a("ol",{attrs:{start:"9"}},[a("li",[e._v("Your system will then boot.")])]),e._v(" "),a("h2",{attrs:{id:"changing-default-kernel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#changing-default-kernel"}},[e._v("#")]),e._v(" Changing default kernel")]),e._v(" "),a("p",[e._v("This is a workaround for Heads v1.1 bug, which does not allow to change the kernel to the one later (lower) in the list.")]),e._v(" "),a("p",[e._v("Usual way would be to go to "),a("code",[e._v("Options -> Boot Options -> Show OS boot menu")]),e._v(", selecting the kernel and making it default, however the latter is not working at the moment. Instead please use the following workaround:")]),e._v(" "),a("ol",[a("li",[e._v("Start recovery console and remove the default boot files. Please make sure the correct files are removed. Here 2 default files were available:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ cd /\n$ mount -o remount,rw /boot\n$ ls /boot/kexec_default.*.txt\nkexec_default.1.txt kexec_default.2.txt\n$ rm /boot/kexec_default.*.txt -v\nremoved '/boot/kexec_default.1.txt'\nremoved '/boot/kexec_default.2.txt'\n$ reboot\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Sign all current boot files with:\n"),a("code",[e._v("Options --\x3e Update checksums and sign all files in /boot")])]),e._v(" "),a("li",[e._v("Return to main menu and select default boot\n"),a("code",[e._v("Main Menu --\x3e Default boot")])]),e._v(" "),a("li",[e._v("Agree to select default kernel (screen: "),a("code",[e._v("No Default Boot Option Configured")]),e._v(" )")]),e._v(" "),a("li",[e._v("Select the desired kernel to work as the default")]),e._v(" "),a("li",[e._v("Select 2nd option: "),a("code",[e._v("Make <kernel version> the default")])]),e._v(" "),a("li",[e._v("Save the kernel with accepting default options (proceed, do not agree for TPM encryption, confirm GPG card):")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Saving... Proceed (Y/n): Y\nDo you wish... to the TPM (y/N): N\nPlease confirm... inserted (Y/n): Y\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[e._v("Enter PIN for the Nitrokey Pro/Storage device to execute signing process")]),e._v(" "),a("li",[e._v("The selected kernel will boot and it will be the default one the next time when selecting "),a("code",[e._v("Default Boot")]),e._v(" option from the menu.")])])])}),[],!1,null,null,null);t.default=s.exports}}]);